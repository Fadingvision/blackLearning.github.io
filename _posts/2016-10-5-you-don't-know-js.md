---
layout: post
title:  "你不知道的Js笔记"
date:   2016-09-30 22:29:29 +0800
category: "javascript"
tags: [javascript]
---


## 你不知道的Js笔记

## 第一部分：作用域和闭包

#### 编译原理

- 分词/词法分析
- 解析/语法分析
- 代码生成

#### LHS查询与RHS查询

- RHS查询与简单的查找某个变量别无二致
- LHS查询则是试图找到变量的容器本身

#### 避免使用eval、new Function、来修改词法作用域, 在程序中动态生成代码的场景十分罕见，因为他所带来的好处无法弥补性能上的损耗。

#### 最小设计原则是指在软件设计中，应该最小限度的暴露必要内容，而将其他内容都隐藏起来。

#### 避免作用域冲突的两种办法：

- 全局命名空间
- 模块管理机制

#### 无论是函数声明还是函数表达式，始终给函数命名是一个最佳实践。

#### 函数提升优先于变量提升。

#### 闭包： 嵌套的作用域使得内部的作用域能够访问外部的作用域的变量，当暴露内部作用域后，即使外部作用域执行了，内部作用域依然保有对该作用域的引用，使得其不会垃圾处理机制回收，这种引用就叫做闭包。
#### 模块管理器并没有任何的魔力，只要符合两个特点：调用包撞了函数定义的包装函数，并且将返回值作为该模块的API。

----------

## 第二部分：this和对象原型

### this

#### 尽量避免使用self = this的写法；使用bind和箭头函数。
#### 使用一个Object.create(null)来创建一个空对象来制定默认绑定对象。以避免在非严格模式下污染全局对象。

### 对象

#### 之所以能够在原始值上面使用对象的一些属性和方法，这也是因为在调用这些属性和方法的时候，编译引擎会自动做一成包装，从而将基本类型能够转为普通对象使用。

null和undefined没有对应的构造形式，Date没有对应的文字形式。

可以用**JSON.parse(JSON.stringif(obj))**来复制一个对象。